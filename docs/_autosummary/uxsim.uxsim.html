<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="uxsim.utils" href="uxsim.utils.html" /><link rel="prev" title="uxsim.ResultGUIViewer.ResultGUIViewer" href="uxsim.ResultGUIViewer.ResultGUIViewer.html" />

    <!-- Generated with Sphinx 8.1.3 and Furo 2025.07.19 -->
        <title>uxsim.uxsim - UXsim: Traffic Simulation in Python v1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=d111a655" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=25af2a20" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=8dab3a3b" />
    
    


<style>
  body {
    --color-code-background: #f2f2f2;
  --color-code-foreground: #1e1e1e;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #2b2b2b;
  --color-code-foreground: #f8f8f2;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #2b2b2b;
  --color-code-foreground: #f8f8f2;
  
      }
    }
  }
</style>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-111714220-1"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-111714220-1');
</script>
  
</head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">UXsim: Traffic Simulation in Python v1 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  <span class="sidebar-brand-text">UXsim: Traffic Simulation in Python v1 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting started</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../tutorial.html">Tutorial and Examples</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Tutorial and Examples</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/demo_notebook_01en.html">Step-by-step Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/demo_notebook_10en_traffic_signal_tutorial.html">Tutorial on Traffic Signal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/demo_notebook_02en.html">Advanced example</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/demo_notebook_03en_pytorch.html">Signal control by PyTorch (DQN)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/demo_notebook_04en_OpenStreetMap.html">Network data import from OpenStreetMap</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/demo_notebook_06en_taxi_or_shared_mobility.html">Taxi / Shared mobility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/demo_notebook_09en_dynamic_traffic_assignment.html">Dynamic Traffic Assignments: DUO, DUE, DSO</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/demo_notebook_08en_chicago.html">Huge-scale simulation using Chicago-Sketch dataset</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mechanism.html">Simulation Mechanism: Summary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mechanism_detailed.html">Simulation Mechanism: Details</a></li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../tech_ref.html">Technical Reference</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Technical Reference</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="uxsim.World.html">uxsim.World</a></li>
<li class="toctree-l2"><a class="reference internal" href="uxsim.Node.html">uxsim.Node</a></li>
<li class="toctree-l2"><a class="reference internal" href="uxsim.Link.html">uxsim.Link</a></li>
<li class="toctree-l2"><a class="reference internal" href="uxsim.Vehicle.html">uxsim.Vehicle</a></li>
<li class="toctree-l2"><a class="reference internal" href="uxsim.RouteChoice.html">uxsim.RouteChoice</a></li>
<li class="toctree-l2"><a class="reference internal" href="uxsim.analyzer.Analyzer.html">uxsim.analyzer.Analyzer</a></li>
<li class="toctree-l2"><a class="reference internal" href="uxsim.Route.html">uxsim.Route</a></li>
<li class="toctree-l2"><a class="reference internal" href="uxsim.TaxiHandler.TripRequest.html">uxsim.TaxiHandler.TripRequest</a></li>
<li class="toctree-l2"><a class="reference internal" href="uxsim.TaxiHandler.TaxiHandler.html">uxsim.TaxiHandler.TaxiHandler</a></li>
<li class="toctree-l2"><a class="reference internal" href="uxsim.TaxiHandler.TaxiHandler_nearest.html">uxsim.TaxiHandler.TaxiHandler_nearest</a></li>
<li class="toctree-l2"><a class="reference internal" href="uxsim.OSMImporter.OSMImporter.html">uxsim.OSMImporter.OSMImporter</a></li>
<li class="toctree-l2"><a class="reference internal" href="uxsim.DTAsolvers.SolverDUE.html">uxsim.DTAsolvers.SolverDUE</a></li>
<li class="toctree-l2"><a class="reference internal" href="uxsim.DTAsolvers.SolverDSO_GA.html">uxsim.DTAsolvers.SolverDSO_GA</a></li>
<li class="toctree-l2"><a class="reference internal" href="uxsim.ResultGUIViewer.ResultGUIViewer.html">uxsim.ResultGUIViewer.ResultGUIViewer</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">uxsim.uxsim</a></li>
<li class="toctree-l2"><a class="reference internal" href="uxsim.utils.html">uxsim.utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="uxsim.scenario_reader_writer.html">uxsim.scenario_reader_writer</a></li>
<li class="toctree-l2"><a class="reference internal" href="uxsim.ResultGUIViewer.ResultGUIViewer.html">uxsim.ResultGUIViewer.ResultGUIViewer</a></li>
<li class="toctree-l2"><a class="reference internal" href="uxsim.TaxiHandler.TaxiHandler.html">uxsim.TaxiHandler.TaxiHandler</a></li>
<li class="toctree-l2"><a class="reference internal" href="uxsim.Utilities.Utilities.html">uxsim.Utilities.Utilities</a></li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="../_sources/_autosummary/uxsim.uxsim.rst.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="module-uxsim.uxsim">
<span id="uxsim-uxsim"></span><h1>uxsim.uxsim<a class="headerlink" href="#module-uxsim.uxsim" title="Link to this heading">¶</a></h1>
<p>UXsim: Macroscopic/mesoscopic traffic flow simulator in a network.
This <cite>uxsim.py</cite> is the core of UXsim. It summarizes the classes and methods that are essential for the simulation.</p>
<p class="rubric">Classes</p>
<div class="table-wrapper autosummary longtable docutils container">
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="../uxsim.html#uxsim.uxsim.Link" title="uxsim.uxsim.Link"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Link</span></code></a>(W, name, start_node, end_node, length)</p></td>
<td><p>Link in a network.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../uxsim.html#uxsim.uxsim.Node" title="uxsim.uxsim.Node"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Node</span></code></a>(W, name, x, y[, signal, signal_offset, ...])</p></td>
<td><p>Node in a network.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../uxsim.html#uxsim.uxsim.Route" title="uxsim.uxsim.Route"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Route</span></code></a>(W, links[, name, trust_input])</p></td>
<td><p>Class for a route that store concective links.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../uxsim.html#uxsim.uxsim.RouteChoice" title="uxsim.uxsim.RouteChoice"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RouteChoice</span></code></a>(W)</p></td>
<td><p>Class for computing shortest path for all vehicles.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../uxsim.html#uxsim.uxsim.Vehicle" title="uxsim.uxsim.Vehicle"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Vehicle</span></code></a>(W, orig, dest, departure_time[, ...])</p></td>
<td><p>Vehicle or platoon in a network.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../uxsim.html#uxsim.uxsim.World" title="uxsim.uxsim.World"><code class="xref py py-obj docutils literal notranslate"><span class="pre">World</span></code></a>([name, deltan, reaction_time, ...])</p></td>
<td><p>World (i.e., simulation environment).</p></td>
</tr>
</tbody>
</table>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="uxsim.uxsim.Link">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">uxsim.uxsim.</span></span><span class="sig-name descname"><span class="pre">Link</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">W</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">free_flow_speed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jam_density</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jam_density_per_lane</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number_of_lanes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">merge_priority</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">signal_group</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">capacity_out</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">capacity_in</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eular_dx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_function</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_rename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#Link"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.Link" title="Link to this definition">¶</a></dt>
<dd><p>Link in a network.</p>
<p>Create a link</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>W</strong> (<em>object</em>) – The world to which the link belongs.</p></li>
<li><p><strong>name</strong> (<em>str</em>) – The name of the link.</p></li>
<li><p><strong>start_node</strong> (<em>str</em><em> | </em><a class="reference internal" href="../uxsim.html#uxsim.uxsim.Node" title="uxsim.uxsim.Node"><em>Node</em></a>) – The name of the start node of the link.</p></li>
<li><p><strong>end_node</strong> (<em>str</em><em> | </em><a class="reference internal" href="../uxsim.html#uxsim.uxsim.Node" title="uxsim.uxsim.Node"><em>Node</em></a>) – The name of the end node of the link.</p></li>
<li><p><strong>length</strong> (<em>float</em>) – The length of the link.</p></li>
<li><p><strong>free_flow_speed</strong> (<em>float</em><em>, </em><em>optional</em>) – The free flow speed on the link, default is 20.</p></li>
<li><p><strong>jam_density</strong> (<em>float</em><em>, </em><em>optional</em>) – The jam density on the link, default is 0.2. If jam_density_per_lane is specified, this value is ignored.</p></li>
<li><p><strong>jam_density_per_lane</strong> (<em>float</em><em>, </em><em>optional</em>) – The jam density per lane on the link. If specified, it overrides the jam_density value.</p></li>
<li><p><strong>number_of_lanes</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of lanes on the link, default is 1.</p></li>
<li><p><strong>merge_priority</strong> (<em>float</em><em>, </em><em>optional</em>) – The priority of the link when merging at the downstream node, default is 1.</p></li>
<li><p><strong>signal_group</strong> (<em>int</em><em> or </em><em>list</em><em>, </em><em>optional</em>) – The signal group(s) to which the link belongs, default is 0. If <cite>signal_group</cite> is int, say 0, it becomes green if <cite>end_node.signal_phase</cite> is 0. If <cite>signal_group</cite> is list, say [0,1], it becomes green if the <cite>end_node.signal_phase</cite> is 0 or 1.</p></li>
<li><p><strong>capacity_out</strong> (<em>float</em><em>, </em><em>optional</em>) – The capacity out of the link, default is calculated based on other parameters.</p></li>
<li><p><strong>capacity_in</strong> (<em>float</em><em>, </em><em>optional</em>) – The capacity into the link, default is calculated based on other parameters.</p></li>
<li><p><strong>eular_dx</strong> (<em>float</em><em>, </em><em>optional</em>) – The space aggregation size for link traffic state computation, default is 1/10 of link length or free flow distance per simulation step, whichever is larger.</p></li>
<li><p><strong>attribute</strong> (<em>any</em><em>, </em><em>optional</em>) – Additional (meta) attributes defined by users.</p></li>
<li><p><strong>user_attribute</strong> (<em>any</em><em>, </em><em>optional</em>) – Additional (meta) attributes defined by users. Same functionality to <cite>attribute</cite>, but with more understandable name.</p></li>
<li><p><strong>user_function</strong> (<em>func</em><em>, </em><em>optinal</em>) – User-defined custom function that is automatically called when timestep is incremented (more precisely, when <cite>update()</cite> is called). It takes only one argument: the Link object itself. Example: The following code prints the current number of vehicles on the link at each timestep. If user_function=None (default), no functions will be executed.
&gt;&gt;&gt; def user_function(link):
&gt;&gt;&gt;     print(len(link.vehicles))
&gt;&gt;&gt; W = World(…)
&gt;&gt;&gt; W.addLink(“link”, “node1”, “node2, 1000, user_function=user_function)
&gt;&gt;&gt; … #define your scenario
&gt;&gt;&gt; W.exec_simulation()</p></li>
<li><p><strong>auto_rename</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to automatically rename the link if the name is already used. Default is False (raise an exception).</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="uxsim.uxsim.Link.speed">
<span class="sig-name descname"><span class="pre">speed</span></span><a class="headerlink" href="#uxsim.uxsim.Link.speed" title="Link to this definition">¶</a></dt>
<dd><p>Average speed of traffic on the link.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="uxsim.uxsim.Link.density">
<span class="sig-name descname"><span class="pre">density</span></span><a class="headerlink" href="#uxsim.uxsim.Link.density" title="Link to this definition">¶</a></dt>
<dd><p>Density of traffic on the link.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="uxsim.uxsim.Link.flow">
<span class="sig-name descname"><span class="pre">flow</span></span><a class="headerlink" href="#uxsim.uxsim.Link.flow" title="Link to this definition">¶</a></dt>
<dd><p>Flow of traffic on the link.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="uxsim.uxsim.Link.num_vehicles">
<span class="sig-name descname"><span class="pre">num_vehicles</span></span><a class="headerlink" href="#uxsim.uxsim.Link.num_vehicles" title="Link to this definition">¶</a></dt>
<dd><p>Number of vehicles on the link.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="uxsim.uxsim.Link.num_vehicles_queue">
<span class="sig-name descname"><span class="pre">num_vehicles_queue</span></span><a class="headerlink" href="#uxsim.uxsim.Link.num_vehicles_queue" title="Link to this definition">¶</a></dt>
<dd><p>Number of slow vehicles (due to congestion) on the link.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="uxsim.uxsim.Link.free_flow_speed">
<span class="sig-name descname"><span class="pre">free_flow_speed</span></span><a class="headerlink" href="#uxsim.uxsim.Link.free_flow_speed" title="Link to this definition">¶</a></dt>
<dd><p>Free flow speed of the link.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="uxsim.uxsim.Link.jam_density">
<span class="sig-name descname"><span class="pre">jam_density</span></span><a class="headerlink" href="#uxsim.uxsim.Link.jam_density" title="Link to this definition">¶</a></dt>
<dd><p>Jam density of the link.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="uxsim.uxsim.Link.capacity_out">
<span class="sig-name descname"><span class="pre">capacity_out</span></span><a class="headerlink" href="#uxsim.uxsim.Link.capacity_out" title="Link to this definition">¶</a></dt>
<dd><p>Capacity for outflow from the link.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="uxsim.uxsim.Link.capacity_in">
<span class="sig-name descname"><span class="pre">capacity_in</span></span><a class="headerlink" href="#uxsim.uxsim.Link.capacity_in" title="Link to this definition">¶</a></dt>
<dd><p>Capacity for inflow to the link.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="uxsim.uxsim.Link.merge_priority">
<span class="sig-name descname"><span class="pre">merge_priority</span></span><a class="headerlink" href="#uxsim.uxsim.Link.merge_priority" title="Link to this definition">¶</a></dt>
<dd><p>The priority of the link when merging at the downstream node.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Notes</p>
<p>Traffic Flow Model:</p>
<ul class="simple">
<li><p>The link model follows a multi-lane, single-pipe approach where FIFO is guaranteed per link and no lane changing occurs.</p></li>
<li><p>Fundamental diagram parameters such as free_flow_speed, jam_density (or jam_density_per_lane), and number_of_lanes determine the link’s flow characteristics. Reaction time of drivers <cite>REACTION_TIME</cite> is a grobal parameter.</p></li>
<li><p>Real-time link status for external reference is maintained with attributes <cite>speed</cite>, <cite>density</cite>, <cite>flow</cite>, <cite>num_vehicles</cite>, and <cite>num_vehicles_queue</cite>.</p></li>
</ul>
<p>Traffic Flow Model Parameters:</p>
<ul class="simple">
<li><p>Their definition is illustrated as <a class="reference external" href="https://toruseo.jp/UXsim/docs/_images/fundamental_diagram.png">https://toruseo.jp/UXsim/docs/_images/fundamental_diagram.png</a></p></li>
<li><p>If you are not familiar to the traffic flow theory, it is recommended that you adjust only <cite>free_flow_speed</cite> and <cite>number_of_lanes</cite> for the traffic flow model parameters, leaving the other parameters at their default values.</p></li>
</ul>
<p>Capacity and Bottlenecks:</p>
<ul class="simple">
<li><p>The <cite>capacity_out</cite> and <cite>capacity_in</cite> parameters set the outflow and inflow capacities of the link. If not provided, the capacities are unlimited.</p></li>
<li><p>These capacities can represent bottlenecks at the beginning or end of the link.</p></li>
</ul>
<p>Connection to Node Model:</p>
<ul class="simple">
<li><p>At the downstream end of a sending link, vehicles in all lanes have the right to be sent out, but FIFO order is maintained.</p></li>
<li><p>At the upstream end of a receiving link, all lanes can accept vehicles.</p></li>
</ul>
<p>Parameter Adjustments:</p>
<ul class="simple">
<li><p>Some traffic flow model parameters like <cite>free_flow_speed</cite>, <cite>jam_density</cite>, <cite>capacity_out</cite>, <cite>capacity_in</cite>, and <cite>merge_priority</cite> can be altered during simulation to reflect changing conditions.</p></li>
</ul>
<p>Details on Multi-lane model:</p>
<ul class="simple">
<li><dl class="simple">
<dt>Link model:</dt><dd><ul>
<li><p>Multiple lanes with single-pipe model. FIFO is guaranteed per link. No lane changing.</p></li>
<li><p>Links have a <cite>lanes</cite> attribute representing the number of lanes.</p></li>
<li><p>Each vehicle has a <cite>lane</cite> attribute.</p></li>
<li><p>Each vehicle follows the leader vehicle in the same lane, i.e., the vehicle <cite>lanes</cite> steps ahead on the link.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Node model:</dt><dd><ul>
<li><dl class="simple">
<dt>Sending links:</dt><dd><ul>
<li><p>Vehicles in all lanes at the downstream end of the link have the right to be sent out.</p></li>
<li><p>However, to ensure link FIFO, vehicles are tried to be sent out in the order they entered the link. If a vehicle cannot be accepted, the outflow from that link stops.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Receiving links:</dt><dd><ul>
<li><p>All lanes at the upstream end of the link can accept vehicles.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>Details on Fundamental diagram parameters (+: input, ++: alternative input):</p>
<ul class="simple">
<li><p>free_flow_speed (m/s)+</p></li>
<li><p>jam_density (veh/m/LINK)+</p></li>
<li><p>jam_density_per_lane (veh/m/lane)++</p></li>
<li><p>lanes, number_of_lane (lane)+</p></li>
<li><p>tau: y-intercept of link FD (s/veh*LINK)</p></li>
<li><p>REACTION_TIME, World.reaction_time (s/veh*lane)</p></li>
<li><p>w (m/s)</p></li>
<li><p>capacity (veh/s/LINK)</p></li>
<li><p>capacity_per_lane (veh/s/lane)</p></li>
<li><p>delta: minimum spacing (m/veh*LINK)</p></li>
<li><p>delta_per_lane: minimum spacing in lane (m/veh*lane)</p></li>
<li><p>q_star: capacity (veh/s/LINK)</p></li>
<li><p>k_star: critical density (veh/s/LINK)</p></li>
<li><p>capacity_in, capacity_out: bottleneck capacity at beginning/end of link (veh/s/LINK)+</p></li>
<li><p>Node.flow_capacity: node flow capacity (veh/s/LINK-LIKE)+</p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.Link.actual_travel_time">
<span class="sig-name descname"><span class="pre">actual_travel_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#Link.actual_travel_time"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.Link.actual_travel_time" title="Link to this definition">¶</a></dt>
<dd><p>Get actual travel time of vehicle who enters this link on time t. Note that small error may occur due to fractional processing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>t</strong> (<em>float</em>) – Time in seconds.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The actual travel time.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.Link.arrival_count">
<span class="sig-name descname"><span class="pre">arrival_count</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#Link.arrival_count"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.Link.arrival_count" title="Link to this definition">¶</a></dt>
<dd><p>Get cumulative vehicle count of arrival to this link on time t</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>t</strong> (<em>float</em>) – Time in seconds.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The cumulative arrival vehicle count.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.Link.departure_count">
<span class="sig-name descname"><span class="pre">departure_count</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#Link.departure_count"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.Link.departure_count" title="Link to this definition">¶</a></dt>
<dd><p>Get cumulative vehicle count of departure from this link on time t</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>t</strong> (<em>float</em>) – Time in seconds.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The cumulative departure vehicle count.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.Link.in_out_flow_constraint">
<span class="sig-name descname"><span class="pre">in_out_flow_constraint</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#Link.in_out_flow_constraint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.Link.in_out_flow_constraint" title="Link to this definition">¶</a></dt>
<dd><p>Link capacity updates.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.Link.init_after_tmax_fix">
<span class="sig-name descname"><span class="pre">init_after_tmax_fix</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#Link.init_after_tmax_fix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.Link.init_after_tmax_fix" title="Link to this definition">¶</a></dt>
<dd><p>Initalization before simulation execution.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.Link.instant_travel_time">
<span class="sig-name descname"><span class="pre">instant_travel_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#Link.instant_travel_time"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.Link.instant_travel_time" title="Link to this definition">¶</a></dt>
<dd><p>Get instantaneous travel time of this link on time t</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>t</strong> (<em>float</em>) – Time in seconds.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The instantaneous travel time.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.Link.set_traveltime_instant">
<span class="sig-name descname"><span class="pre">set_traveltime_instant</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#Link.set_traveltime_instant"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.Link.set_traveltime_instant" title="Link to this definition">¶</a></dt>
<dd><p>Compute instantaneous travel time.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.Link.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#Link.update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.Link.update" title="Link to this definition">¶</a></dt>
<dd><p>Make necessary updates when the timestep is incremented.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="uxsim.uxsim.Node">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">uxsim.uxsim.</span></span><span class="sig-name descname"><span class="pre">Node</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">W</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">signal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">signal_offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">signal_offset_old</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flow_capacity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_rename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number_of_lanes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_function</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#Node"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.Node" title="Link to this definition">¶</a></dt>
<dd><p>Node in a network.</p>
<p>Create a node</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>W</strong> (<em>object</em>) – The world to which the node belongs.</p></li>
<li><p><strong>name</strong> (<em>str</em>) – The name of the node.</p></li>
<li><p><strong>x</strong> (<em>float</em>) – The x-coordinate of the node (for visualization purposes).</p></li>
<li><p><strong>y</strong> (<em>float</em>) – The y-coordinate of the node (for visualization purposes).</p></li>
<li><p><strong>signal</strong> (<em>list</em><em> of </em><em>int</em><em>, </em><em>optional</em>) – A list representing the signal at the node. Default is [0], representing no signal.
If a signal is present, the list contains the green times for each group.
For example, <a href="#id1"><span class="problematic" id="id2">`</span></a>signal`=[60, 10, 50, 5] means that this signal has 4 phases, and green time for the 1st group is 60 s.</p></li>
<li><p><strong>signal_offset</strong> (<em>float</em><em>, </em><em>optional</em>) – The offset of the signal. Default is 0.</p></li>
<li><p><strong>signal_offset_old</strong> (<em>float</em><em>, </em><em>optional</em>) – The old parameter used to set offset of the signal prior to v1.8.1. This is the opposite of the usual definition of offset. Default is None, meaning it is <cite>signal_offset</cite> is used.</p></li>
<li><p><strong>flow_capacity</strong> (<em>float</em><em>, </em><em>optional</em>) – The maximum flow capacity of the node. Default is None, meaning infinite capacity.</p></li>
<li><p><strong>auto_rename</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to automatically rename the node if the name is already used. Default is False.</p></li>
<li><p><strong>number_of_lanes</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of lanes that can be green simultaniously at the node. Default is None.</p></li>
<li><p><strong>attribute</strong> (<em>any</em><em>, </em><em>optional</em>) – Additional (meta) attributes defined by users.</p></li>
<li><p><strong>user_attribute</strong> (<em>any</em><em>, </em><em>optional</em>) – Additional (meta) attributes defined by users. Same functionality to <cite>attribute</cite>, but with more understandable name.</p></li>
<li><p><strong>user_function</strong> (<em>func</em><em>, </em><em>optinal</em>) – User-defined custom function that is automatically called when timestep is incremented (more precisely, when <cite>update()</cite> is called). It takes only one argument: the Node object itself. Example: The following code prints the current number of incoming vehicles to the node at each timestep. If user_function=None (default), no functions will be executed.
&gt;&gt;&gt; def user_function(node):
&gt;&gt;&gt;     print(len(node.incoming_vehicles))
&gt;&gt;&gt; W = World(…)
&gt;&gt;&gt; W.addNode(“node”, 0, 0, user_function=user_function)
&gt;&gt;&gt; … #define your scenario
&gt;&gt;&gt; W.exec_simulation()</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="uxsim.uxsim.Node.signal_phase">
<span class="sig-name descname"><span class="pre">signal_phase</span></span><a class="headerlink" href="#uxsim.uxsim.Node.signal_phase" title="Link to this definition">¶</a></dt>
<dd><p>The phase of current signal. Links that have the same <cite>signal_group</cite> have a green signal.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="uxsim.uxsim.Node.signal_t">
<span class="sig-name descname"><span class="pre">signal_t</span></span><a class="headerlink" href="#uxsim.uxsim.Node.signal_t" title="Link to this definition">¶</a></dt>
<dd><p>The elapsed time since the current signal phase started. When it is larger than <cite>Link.signal[Link.signal_phase]</cite>, the phase changes to the next one.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.Node.flow_capacity_update">
<span class="sig-name descname"><span class="pre">flow_capacity_update</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#Node.flow_capacity_update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.Node.flow_capacity_update" title="Link to this definition">¶</a></dt>
<dd><p>flow capacity updates.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.Node.generate">
<span class="sig-name descname"><span class="pre">generate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#Node.generate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.Node.generate" title="Link to this definition">¶</a></dt>
<dd><p>Departs vehicles from the waiting queue.</p>
<p class="rubric">Notes</p>
<p>If there are vehicles in the generation queue of the node, this method attempts to depart a vehicle to one of the outgoing links.
The choice of the outgoing link is based on the vehicle’s route preference for each link. Once a vehicle is departed, it is removed from the generation queue, added to the list of vehicles on the chosen link, and its state is set to “run”.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.Node.signal_control">
<span class="sig-name descname"><span class="pre">signal_control</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#Node.signal_control"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.Node.signal_control" title="Link to this definition">¶</a></dt>
<dd><p>Updates the signal timings for a traffic signal node.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.Node.transfer">
<span class="sig-name descname"><span class="pre">transfer</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#Node.transfer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.Node.transfer" title="Link to this definition">¶</a></dt>
<dd><p>Transfers vehicles between links at the node.</p>
<p class="rubric">Notes</p>
<p>This method handles the transfer of vehicles from one link to another at the node.
A vehicle is eligible for transfer if:</p>
<ul class="simple">
<li><p>The next link it intends to move to has space.</p></li>
<li><p>The vehicle has the right signal phase to proceed.</p></li>
<li><p>The current link has enough capacity to allow the vehicle to exit.</p></li>
<li><p>The node capacity is not exceeded.</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.Node.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#Node.update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.Node.update" title="Link to this definition">¶</a></dt>
<dd><p>Make necessary updates when the timestep is incremented.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="uxsim.uxsim.Route">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">uxsim.uxsim.</span></span><span class="sig-name descname"><span class="pre">Route</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">W</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">links</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trust_input</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#Route"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.Route" title="Link to this definition">¶</a></dt>
<dd><p>Class for a route that store concective links.</p>
<p>Define a route.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>W</strong> (<a class="reference internal" href="../uxsim.html#uxsim.uxsim.World" title="uxsim.uxsim.World"><em>World</em></a>) – The World to which this Route belongs</p></li>
<li><p><strong>links</strong> (<em>list</em>) – List of links (Link object or str)</p></li>
<li><p><strong>name</strong> (<em>str</em>) – Name of the route.</p></li>
<li><p><strong>trust_input</strong> (<em>bool</em>) – True if you trust the <cite>links</cite> in order to reduce the computation cost by omitting verification.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">route</span> <span class="o">=</span> <span class="n">Route</span><span class="p">(</span><span class="n">W</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;l1&quot;</span><span class="p">,</span> <span class="s2">&quot;l2&quot;</span><span class="p">,</span> <span class="s2">&quot;l3&quot;</span><span class="p">])</span>
<span class="gp">... </span><span class="n">vehicle_object</span><span class="o">.</span><span class="n">links_prefer</span> <span class="o">=</span> <span class="n">route</span>
<span class="go">This will enforce the vehicle to travel the route if the route covers the entire links between the OD nodes of the vehicle.</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">route</span> <span class="o">=</span> <span class="n">Route</span><span class="p">(</span><span class="n">W</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;l1&quot;</span><span class="p">,</span> <span class="s2">&quot;l2&quot;</span><span class="p">,</span> <span class="s2">&quot;l3&quot;</span><span class="p">])</span>
<span class="gp">... </span><span class="k">for</span> <span class="n">link</span> <span class="ow">in</span> <span class="n">route</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">link</span><span class="p">)</span>
<span class="go">This will print the links in the route.</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.Route.actual_travel_time">
<span class="sig-name descname"><span class="pre">actual_travel_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_details</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#Route.actual_travel_time"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.Route.actual_travel_time" title="Link to this definition">¶</a></dt>
<dd><p>Actual travel time for a (hypothetical) vehicle who start traveling this route on time t.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> (<em>float</em>) – Time in seconds.</p></li>
<li><p><strong>return_details</strong> (<em>bool</em>) – True if you want travel time per link.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>float</em> – The actual travel time.</p></li>
<li><p>list (if <cite>return_details</cite> is True) – List of travel time per link.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="uxsim.uxsim.RouteChoice">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">uxsim.uxsim.</span></span><span class="sig-name descname"><span class="pre">RouteChoice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">W</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#RouteChoice"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.RouteChoice" title="Link to this definition">¶</a></dt>
<dd><p>Class for computing shortest path for all vehicles.</p>
<p>Create route choice computation object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>W</strong> (<em>object</em>) – The world to which this belongs.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.RouteChoice.homogeneous_DUO_update">
<span class="sig-name descname"><span class="pre">homogeneous_DUO_update</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#RouteChoice.homogeneous_DUO_update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.RouteChoice.homogeneous_DUO_update" title="Link to this definition">¶</a></dt>
<dd><p>Update link preference of all homogeneous travelers based on DUO principle.
Vectorized by Claude 3.5 Sonnet.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.RouteChoice.route_search_all">
<span class="sig-name descname"><span class="pre">route_search_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">infty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#RouteChoice.route_search_all"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.RouteChoice.route_search_all" title="Link to this definition">¶</a></dt>
<dd><p>Compute the current shortest path based on instantaneous travel time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>infty</strong> (<em>float</em>) – value representing infinity.</p></li>
<li><p><strong>noise</strong> (<em>float</em>) – very small noise to slightly randomize route choice. useful to eliminate strange results at an initial stage of simulation where many routes has identical travel time.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="uxsim.uxsim.Vehicle">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">uxsim.uxsim.</span></span><span class="sig-name descname"><span class="pre">Vehicle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">W</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dest</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">departure_time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">route_pref</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">route_choice_principle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'single_trip'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">links_prefer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">links_avoid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trip_abort</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">departure_time_is_time_step</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_function</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_rename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#Vehicle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.Vehicle" title="Link to this definition">¶</a></dt>
<dd><p>Vehicle or platoon in a network.</p>
<p>Create a vehicle (more precisely, platoon)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>W</strong> (<em>object</em>) – The world to which the vehicle belongs.</p></li>
<li><p><strong>orig</strong> (<em>str</em><em> | </em><a class="reference internal" href="../uxsim.html#uxsim.uxsim.Node" title="uxsim.uxsim.Node"><em>Node</em></a>) – The origin node.</p></li>
<li><p><strong>dest</strong> (<em>str</em><em> | </em><a class="reference internal" href="../uxsim.html#uxsim.uxsim.Node" title="uxsim.uxsim.Node"><em>Node</em></a>) – The destination node.</p></li>
<li><p><strong>departure_time</strong> (<em>int</em>) – The departure time of the vehicle.</p></li>
<li><p><strong>name</strong> (<em>str</em><em>, </em><em>optional</em>) – The name of the vehicle, default is the id of the vehicle.</p></li>
<li><p><strong>route_pref</strong> (<em>dict</em><em>, </em><em>optional</em>) – The preference weights for links, default is 0 for all links.</p></li>
<li><p><strong>route_choice_principle</strong> (<em>str</em><em>, </em><em>optional</em>) – The route choice principle of the vehicle, default is the network’s route choice principle.</p></li>
<li><p><strong>mode</strong> (<em>str</em><em>, </em><em>optional</em>) – The mode of the vehicle. Available options are “single_trip” and “taxi”, default is “single_trip”.
“single_trip”: The vehicle makes a single trip from the origin to the destination.
“taxi”: The vehicle serves multiple trips by specifying sequence of destinations. The destination list <cite>Vehicle.dest_list</cite> can be dynamically updated externaly.</p></li>
<li><p><strong>links_prefer</strong> (<em>list</em><em> of </em><em>str</em><em>, </em><em>optional</em>) – The names of the links the vehicle prefers, default is empty list.</p></li>
<li><p><strong>links_avoid</strong> (<em>list</em><em> of </em><em>str</em><em>, </em><em>optional</em>) – The names of the links the vehicle avoids, default is empty list.</p></li>
<li><p><strong>trip_abort</strong> (<em>int</em><em>, </em><em>optional</em>) – Whether to abort the trip if a dead end is reached, default is 1.</p></li>
<li><p><strong>attribute</strong> (<em>any</em><em>, </em><em>optinonal</em>) – Additional (meta) attributes defined by users.</p></li>
<li><p><strong>user_attribute</strong> (<em>any</em><em>, </em><em>optional</em>) – Additional (meta) attributes defined by users. Same functionality to <cite>attribute</cite>, but with more understandable name.</p></li>
<li><p><strong>user_function</strong> (<em>func</em><em>, </em><em>optinal</em>) – User-defined custom function that is automatically called when timestep is incremented (more precisely, when <cite>update()</cite> is called). It takes only one argument: the Vehicle object itself. Example: The following code prints the current speed of vehicle at each timestep. If user_function=None (default), no functions will be executed.
&gt;&gt;&gt; def user_function(veh):
&gt;&gt;&gt;     print(veh.speed))
&gt;&gt;&gt; W = World(…)
&gt;&gt;&gt; … #define your scenario
&gt;&gt;&gt; W.addVehicle(“orig”, “dest”, 100, user_function=user_function)
&gt;&gt;&gt; W.exec_simulation()</p></li>
<li><p><strong>auto_rename</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to automatically rename the vehicle if the name is already used. Default is False.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.Vehicle.add_dest">
<span class="sig-name descname"><span class="pre">add_dest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dest</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#Vehicle.add_dest"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.Vehicle.add_dest" title="Link to this definition">¶</a></dt>
<dd><p>Add a destination to the vehicle’s destination list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dest</strong> (<em>str</em><em> | </em><a class="reference internal" href="../uxsim.html#uxsim.uxsim.Node" title="uxsim.uxsim.Node"><em>Node</em></a>) – The destination node to be added.</p></li>
<li><p><strong>order</strong> (<em>int</em><em>, </em><em>optional</em>) – The order of the destination in the list. Default is -1, which appends the destination to the end of the list.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.Vehicle.add_dests">
<span class="sig-name descname"><span class="pre">add_dests</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dests</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#Vehicle.add_dests"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.Vehicle.add_dests" title="Link to this definition">¶</a></dt>
<dd><p>Add multiple destinations to the vehicle’s destination list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dests</strong> (<em>list</em><em> of </em><em>str</em><em> | </em><a class="reference internal" href="../uxsim.html#uxsim.uxsim.Node" title="uxsim.uxsim.Node"><em>Node</em></a>) – The list of destinations to be added.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.Vehicle.carfollow">
<span class="sig-name descname"><span class="pre">carfollow</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#Vehicle.carfollow"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.Vehicle.carfollow" title="Link to this definition">¶</a></dt>
<dd><p>Drive withing a link.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.Vehicle.end_trip">
<span class="sig-name descname"><span class="pre">end_trip</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#Vehicle.end_trip"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.Vehicle.end_trip" title="Link to this definition">¶</a></dt>
<dd><p>Procedure when the vehicle finishes its trip.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.Vehicle.enforce_route">
<span class="sig-name descname"><span class="pre">enforce_route</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">route</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_avoid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#Vehicle.enforce_route"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.Vehicle.enforce_route" title="Link to this definition">¶</a></dt>
<dd><p>Enforce the vehicle to use the specified route. The route should connect the origin to the destination. TODO: add consistency check</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>route</strong> (<em>List</em><em> of </em><a class="reference internal" href="../uxsim.html#uxsim.uxsim.Link" title="uxsim.uxsim.Link"><em>Link</em></a>) – The route for this vehicle.</p></li>
<li><p><strong>set_avoid</strong> (<em>bool</em>) – If True, the vehicle only travel the links in <cite>route</cite> argument. This is very strict. If the route is not consistent (e.g., the route does not completely connect between the origin and the destination), it will raise an exception.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.Vehicle.get_xy_coords">
<span class="sig-name descname"><span class="pre">get_xy_coords</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#Vehicle.get_xy_coords"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.Vehicle.get_xy_coords" title="Link to this definition">¶</a></dt>
<dd><p>Get the x-y coordinates of the vehicle. If t is given, the position at time t is returned based on the logs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>t</strong> (<em>int</em><em> | </em><em>float</em><em>, </em><em>optional</em>) – Time in seconds. If it is -1, the latest position is returned.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.Vehicle.record_log">
<span class="sig-name descname"><span class="pre">record_log</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">enforce_log</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#Vehicle.record_log"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.Vehicle.record_log" title="Link to this definition">¶</a></dt>
<dd><p>Record travel logs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>enforce_log</strong> (<em>bool</em><em>, </em><em>optional</em>) – Record log regardless of the logging interval, default is 0.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.Vehicle.route_next_link_choice">
<span class="sig-name descname"><span class="pre">route_next_link_choice</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#Vehicle.route_next_link_choice"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.Vehicle.route_next_link_choice" title="Link to this definition">¶</a></dt>
<dd><p>Select a next link from the current link.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.Vehicle.route_pref_update">
<span class="sig-name descname"><span class="pre">route_pref_update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#Vehicle.route_pref_update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.Vehicle.route_pref_update" title="Link to this definition">¶</a></dt>
<dd><p>Updates the vehicle’s link preferences for route choice.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>weight</strong> (<em>float</em>) – The weight for updating the link preferences based on the recent travel time.
Should be in the range [0, 1], where 0 means the old preferences are fully retained and 1 means the preferences are completely updated. THIS IS DISABLED FOR NOW.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This method updates the link preferences used by the vehicle to select its route based on its current understanding of the system.</p>
<ul class="simple">
<li><p>If the vehicle’s route choice principle is “homogeneous_DUO”, it will update its preferences based on a global, homogenous dynamic user optimization (DUO) model.</p></li>
<li><p>If the route choice principle is “heterogeneous_DUO”, it will update its preferences based on a heterogeneous DUO model, considering both its past preferences and the system’s current state. This is imcomplete feature. Not recommended.</p></li>
</ul>
<p>The updated preferences guide the vehicle’s decisions in subsequent route choices.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.Vehicle.set_links_avoid">
<span class="sig-name descname"><span class="pre">set_links_avoid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">links</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#Vehicle.set_links_avoid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.Vehicle.set_links_avoid" title="Link to this definition">¶</a></dt>
<dd><p>Set the links the vehicle avoids.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>links</strong> (<em>list</em><em> of </em><em>str</em>) – The list of link names the vehicle avoids.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.Vehicle.set_links_prefer">
<span class="sig-name descname"><span class="pre">set_links_prefer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">links</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#Vehicle.set_links_prefer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.Vehicle.set_links_prefer" title="Link to this definition">¶</a></dt>
<dd><p>Set the links the vehicle prefers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>links</strong> (<em>list</em><em> of </em><em>str</em>) – The list of link names the vehicle prefers.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.Vehicle.traveled_route">
<span class="sig-name descname"><span class="pre">traveled_route</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">include_arrival_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_departure_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#Vehicle.traveled_route"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.Vehicle.traveled_route" title="Link to this definition">¶</a></dt>
<dd><p>Returns the route this vehicle traveled.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>include_arrival_time</strong> (<em>bool</em>) – If true, return the arrival time to the destination as well.  <cite>-1</cite> means it did not reach the destination.</p></li>
<li><p><strong>include_departure_time</strong> (<em>bool</em>) – If true, return the departure time from the origin as well. It will be different from the entering time to the first link if there are congestion (i.e., the vehicle need to enter the network).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>Route</em> – The route this vehicle traveled.</p></li>
<li><p><em>list</em> – The time at which the vehicle entered each link. If <cite>include_arrival_time</cite> is true, the last element is the time the vehicle reached the destination. If <cite>include_departure_time</cite> is true, the first element is the time the vehicle departed from the origin. This complexity is actually due to a design failure in the past. These options are added to keep the backward compatibility.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.Vehicle.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#Vehicle.update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.Vehicle.update" title="Link to this definition">¶</a></dt>
<dd><p>Updates the vehicle’s state and position.</p>
<p class="rubric">Notes</p>
<p>This method updates the state and position of the vehicle based on its current situation.</p>
<ul class="simple">
<li><p>If the vehicle is at “home”, it checks if the current time matches its departure time. If so, the vehicle’s state is set to “wait” and it is added to the generation queue of its origin node.</p></li>
<li><p>If the vehicle is in the “wait” state, it remains waiting at its departure node.</p></li>
<li><p>If the vehicle is in the “run” state, it updates its speed and position. If the vehicle reaches the end of its current link, it either ends its trip if it has reached its destination, or requests a transfer to the next link.</p></li>
<li><p>If the vehicle’s state is “end” or “abort”, no further actions are taken.</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="uxsim.uxsim.World">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">uxsim.uxsim.</span></span><span class="sig-name descname"><span class="pre">World</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deltan</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reaction_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">duo_update_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">600</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">duo_update_weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">duo_noise</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">route_choice_principle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'homogeneous_DUO'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">route_choice_update_gradual</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">instantaneous_TT_timestep_interval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eular_dt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">120</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eular_dx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_progress_deltat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">600</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vehicle_logging_timestep_interval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reduce_memory_delete_vehicle_route_pref</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hard_deterministic_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meta_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_function</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#World"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.World" title="Link to this definition">¶</a></dt>
<dd><p>World (i.e., simulation environment). A World object is consistently referred to as <cite>W</cite> in this code.</p>
<p>Create a World.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em><em>, </em><em>optional</em>) – The name of the world, default is an empty string.</p></li>
<li><p><strong>deltan</strong> (<em>int</em><em>, </em><em>optional</em>) – The platoon size, default is 5 vehicles.</p></li>
<li><p><strong>reaction_time</strong> (<em>float</em><em>, </em><em>optional</em>) – The reaction time, default is 1 second. This is also related to simulation time step width.</p></li>
<li><p><strong>duo_update_time</strong> (<em>float</em><em>, </em><em>optional</em>) – The time interval for route choice update, default is 600 seconds.</p></li>
<li><p><strong>duo_update_weight</strong> (<em>float</em><em>, </em><em>optional</em>) – The update weight for route choice, default is 0.5.</p></li>
<li><p><strong>duo_noise</strong> (<em>float</em><em>, </em><em>optional</em>) – The noise in route choice, default is 0.01.</p></li>
<li><p><strong>route_choice_update_gradual</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to update route choice ratio gradually or not. True is recommended. Default is False for backward compatibility.</p></li>
<li><p><strong>eular_dt</strong> (<em>float</em><em>, </em><em>optional</em>) – The time aggregation size for eularian traffic state computation, default is 120.</p></li>
<li><p><strong>random_seed</strong> (<em>int</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – The random seed, default is None.</p></li>
<li><p><strong>print_mode</strong> (<em>int</em><em>, </em><em>optional</em>) – The print mode, whether print the simulation progress or not. Default is 1 (enabled).</p></li>
<li><p><strong>save_mode</strong> (<em>int</em><em>, </em><em>optional</em>) – The save mode,. whether save the simulation results or not.  Default is 1 (enabled).</p></li>
<li><p><strong>show_mode</strong> (<em>int</em><em>, </em><em>optional</em>) – The show mode, whether show the matplotlib visualization results or not. Default is 0 (disabled).</p></li>
<li><p><strong>route_choice_principle</strong> (<em>str</em><em>, </em><em>optional</em>) – The route choice principle, default is “homogeneous_DUO”.</p></li>
<li><p><strong>show_progress</strong> (<em>int</em><em>, </em><em>optional</em>) – Whether show network progress, default is 1 (enabled).</p></li>
<li><p><strong>show_progress_deltat</strong> (<em>float</em><em>, </em><em>optional</em>) – The time interval for showing network progress, default is 600 seconds.</p></li>
<li><p><strong>tmax</strong> (<em>float</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – The simulation duration, default is None (automatically determined).</p></li>
<li><p><strong>vehicle_logging_timestep_interval</strong> (<em>int</em><em>, </em><em>optional</em>) – The interval for logging vehicle data, default is 1. Logging is off if set to -1.
Setting large intervel (2 or more) or turn off the logging makes the simulation significantly faster in large-scale scenarios without loosing simulation internal accuracy, but outputed vehicle trajecotry and other related data will become inaccurate.</p></li>
<li><p><strong>instantaneous_TT_timestep_interval</strong> (<em>int</em><em>, </em><em>optional</em>) – The interval for computing instantaneous travel time of each link. Default is 5.
If it is longer than the DUO update timestep interval, it is substituted by DUO update timestep interval to maintain reasonable route choice behavior.</p></li>
<li><p><strong>hard_deterministic_mode</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, the simulation will not use any random variables. At a merging node, a link with higher merge_priority will be always prioritized, and vehicles always choose the shortest path. This may be useful for analysis that need strict predictability. Be aware that the simulation results will be significantly different from ones with <cite>hard_deterministic_mode=False</cite>.</p></li>
<li><p><strong>reduce_memory_delete_vehicle_route_pref</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, the simulation will delete the route preference of vehicles after its ends. This is useful when the route preference is not needed after the simulation ends.</p></li>
<li><p><strong>meta_data</strong> (<em>dict</em><em>, </em><em>optinal</em>) – Meta data for simulation scenario. Can store arbitrary data, such as licences and simulation explanation.</p></li>
<li><p><strong>user_attribute</strong> (<em>any</em><em>, </em><em>optinal</em>) – Optinonal meta attributes that can be freely defined by a user.</p></li>
<li><p><strong>user_function</strong> (<em>func</em><em>, </em><em>optinal</em>) – User-defined custom function that is automatically called when timestep is incremented (more precisely, just before timesptep is incremented). It takes only one argument: the World object itself. Example: The following code prints the current simulation time at each timestep. If user_function=None (default), no functions will be executed.
&gt;&gt;&gt; def user_function(W):
&gt;&gt;&gt;     print(W.TIME)
&gt;&gt;&gt; W = World(user_function=user_function)
&gt;&gt;&gt; … #define your scenario
&gt;&gt;&gt; W.exec_simulation()</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>A World object must be defined firstly to initiate simulation.</p>
<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.World.addLink">
<span class="sig-name descname"><span class="pre">addLink</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#World.addLink"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.World.addLink" title="Link to this definition">¶</a></dt>
<dd><p>add a link to world</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The name of the link.</p></li>
<li><p><strong>start_node</strong> (<em>str</em><em> | </em><a class="reference internal" href="../uxsim.html#uxsim.uxsim.Node" title="uxsim.uxsim.Node"><em>Node</em></a>) – The name of the start node of the link.</p></li>
<li><p><strong>end_node</strong> (<em>str</em><em> | </em><a class="reference internal" href="../uxsim.html#uxsim.uxsim.Node" title="uxsim.uxsim.Node"><em>Node</em></a>) – The name of the end node of the link.</p></li>
<li><p><strong>length</strong> (<em>float</em>) – The length of the link.</p></li>
<li><p><strong>free_flow_speed</strong> (<em>float</em><em>, </em><em>optional</em>) – The free flow speed on the link, default is 20.</p></li>
<li><p><strong>jam_density</strong> (<em>float</em><em>, </em><em>optional</em>) – The jam density on the link, default is 0.2. If jam_density_per_lane is specified, this value is ignored.</p></li>
<li><p><strong>jam_density_per_lane</strong> (<em>float</em><em>, </em><em>optional</em>) – The jam density per lane on the link. If specified, it overrides the jam_density value.</p></li>
<li><p><strong>number_of_lanes</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of lanes on the link, default is 1.</p></li>
<li><p><strong>merge_priority</strong> (<em>float</em><em>, </em><em>optional</em>) – The priority of the link when merging at the downstream node, default is 1.</p></li>
<li><p><strong>signal_group</strong> (<em>int</em><em> or </em><em>list</em><em>, </em><em>optional</em>) – The signal group(s) to which the link belongs, default is 0. If <cite>signal_group</cite> is int, say 0, it becomes green if <cite>end_node.signal_phase</cite> is 0. If <cite>signal_group</cite> is list, say [0,1], it becomes green if the <cite>end_node.signal_phase</cite> is 0 or 1.</p></li>
<li><p><strong>capacity_out</strong> (<em>float</em><em>, </em><em>optional</em>) – The capacity out of the link, default is calculated based on other parameters.</p></li>
<li><p><strong>capacity_in</strong> (<em>float</em><em>, </em><em>optional</em>) – The capacity into the link, default is calculated based on other parameters.</p></li>
<li><p><strong>eular_dx</strong> (<em>float</em><em>, </em><em>optional</em>) – The space aggregation size for link traffic state computation, default is 1/10 of link length or free flow distance per simulation step, whichever is larger.</p></li>
<li><p><strong>attribute</strong> (<em>any</em><em>, </em><em>optional</em>) – Additional (meta) attributes defined by users.</p></li>
<li><p><strong>auto_rename</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to automatically rename the link if the name is already used. Default is False (raise an exception).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the added Link object.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>object</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This function acts as a wrapper for creating a Link object and adding it to the network.
It passes all given arguments and keyword arguments to the Link class initialization.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.World.addNode">
<span class="sig-name descname"><span class="pre">addNode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#World.addNode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.World.addNode" title="Link to this definition">¶</a></dt>
<dd><p>add a node to world</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The name of the node.</p></li>
<li><p><strong>x</strong> (<em>float</em>) – The x-coordinate of the node (for visualization purposes).</p></li>
<li><p><strong>y</strong> (<em>float</em>) – The y-coordinate of the node (for visualization purposes).</p></li>
<li><p><strong>signal</strong> (<em>list</em><em> of </em><em>int</em><em>, </em><em>optional</em>) – A list representing the signal at the node. Default is [0], representing no signal.
If a signal is present, the list contains the green times for each group.
For example, <a href="#id3"><span class="problematic" id="id4">`</span></a>signal`=[60, 10, 50, 5] means that this signal has 4 phases, and green time for the 1st group is 60 s.</p></li>
<li><p><strong>signal_offset</strong> (<em>float</em><em>, </em><em>optional</em>) – The offset of the signal. Default is 0.</p></li>
<li><p><strong>flow_capacity</strong> (<em>float</em><em>, </em><em>optional</em>) – The maximum flow capacity of the node. Default is None, meaning infinite capacity.</p></li>
<li><p><strong>auto_rename</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to automatically rename the node if the name is already used. Default is False.</p></li>
<li><p><strong>number_of_lanes</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of lanes that can be green simultaniously at the node. Default is None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the added Node object.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>object</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This function acts as a wrapper for creating a Node object and adding it to the network.
It passes all given arguments and keyword arguments to the Node class initialization.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.World.addVehicle">
<span class="sig-name descname"><span class="pre">addVehicle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">direct_call</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#World.addVehicle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.World.addVehicle" title="Link to this definition">¶</a></dt>
<dd><p>add a vehicle to world</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>orig</strong> (<em>str</em><em> | </em><a class="reference internal" href="../uxsim.html#uxsim.uxsim.Node" title="uxsim.uxsim.Node"><em>Node</em></a>) – The origin node.</p></li>
<li><p><strong>dest</strong> (<em>str</em><em> | </em><a class="reference internal" href="../uxsim.html#uxsim.uxsim.Node" title="uxsim.uxsim.Node"><em>Node</em></a>) – The destination node.</p></li>
<li><p><strong>departure_time</strong> (<em>int</em>) – The departure time of the vehicle.</p></li>
<li><p><strong>name</strong> (<em>str</em><em>, </em><em>optional</em>) – The name of the vehicle, default is the id of the vehicle.</p></li>
<li><p><strong>route_pref</strong> (<em>dict</em><em>, </em><em>optional</em>) – The preference weights for links, default is 0 for all links.</p></li>
<li><p><strong>route_choice_principle</strong> (<em>str</em><em>, </em><em>optional</em>) – The route choice principle of the vehicle, default is the network’s route choice principle.</p></li>
<li><p><strong>mode</strong> (<em>str</em><em>, </em><em>optional</em>) – The mode of the vehicle. Available options are “single_trip” and “taxi”, default is “single_trip”.
“single_trip”: The vehicle makes a single trip from the origin to the destination.
“taxi”: The vehicle serves multiple trips by specifying sequence of destinations. The destination list <cite>Vehicle.dest_list</cite> can be dynamically updated externaly.</p></li>
<li><p><strong>links_prefer</strong> (<em>list</em><em> of </em><em>str</em><em>, </em><em>optional</em>) – The names of the links the vehicle prefers, default is empty list.</p></li>
<li><p><strong>links_avoid</strong> (<em>list</em><em> of </em><em>str</em><em>, </em><em>optional</em>) – The names of the links the vehicle avoids, default is empty list.</p></li>
<li><p><strong>trip_abort</strong> (<em>int</em><em>, </em><em>optional</em>) – Whether to abort the trip if a dead end is reached, default is 1.</p></li>
<li><p><strong>attribute</strong> (<em>any</em><em>, </em><em>optinonal</em>) – Additional (meta) attributes defined by users.</p></li>
<li><p><strong>auto_rename</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to automatically rename the vehicle if the name is already used. Default is False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the added Vehicle object.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>object</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This function acts as a wrapper for creating a Vehicle object and adding it to the network.
It passes all given arguments and keyword arguments to the Vehicle class initialization.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.World.adddemand">
<span class="sig-name descname"><span class="pre">adddemand</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">orig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dest</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flow</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">volume</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">direct_call</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#World.adddemand"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.World.adddemand" title="Link to this definition">¶</a></dt>
<dd><p>Generate vehicles by specifying time-dependent origin-destination demand.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>orig</strong> (<em>str</em><em> | </em><a class="reference internal" href="../uxsim.html#uxsim.uxsim.Node" title="uxsim.uxsim.Node"><em>Node</em></a>) – The name or object of the origin node.</p></li>
<li><p><strong>dest</strong> (<em>str</em><em> | </em><a class="reference internal" href="../uxsim.html#uxsim.uxsim.Node" title="uxsim.uxsim.Node"><em>Node</em></a>) – The name or object of the destination node.</p></li>
<li><p><strong>t_start</strong> (<em>float</em>) – The start time for the demand in seconds.</p></li>
<li><p><strong>t_end</strong> (<em>float</em>) – The end time for the demand in seconds.</p></li>
<li><p><strong>flow</strong> (<em>float</em><em>, </em><em>optional</em>) – The flow rate from the origin to the destination in vehicles per second.</p></li>
<li><p><strong>volume</strong> (<em>float</em><em>, </em><em>optional</em>) – The demand volume from the origin to the destination. If volume is specified, the flow is ignored.</p></li>
<li><p><strong>attribute</strong> (<em>any</em><em>, </em><em>optinonal</em>) – Additional (meta) attributes defined by users.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.World.adddemand_area2area">
<span class="sig-name descname"><span class="pre">adddemand_area2area</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x_orig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_orig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radious_orig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_dest</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_dest</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radious_dest</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flow</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">volume</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">direct_call</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#World.adddemand_area2area"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.World.adddemand_area2area" title="Link to this definition">¶</a></dt>
<dd><p>Generate vehicles by specifying time-dependent origin-destination demand by specifying circular areas. <cite>adddemand_area2area()</cite> is not recommended as it may truncate demand. Consider to use new <cite>adddemand_area2area2()</cite> which is more accurate, smooth, and fast.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x_orig</strong> (<em>float</em>) – The x-coordinate of the center of the origin area.</p></li>
<li><p><strong>y_orig</strong> (<em>float</em>) – The y-coordinate of the center of the origin area.</p></li>
<li><p><strong>radious_orig</strong> (<em>float</em>) – The radious of the origin area. Note that too large radious may generate too sparse demand that is rounded to zero.</p></li>
<li><p><strong>x_dest</strong> (<em>float</em>) – The x-coordinate of the center of the destination area.</p></li>
<li><p><strong>y_dest</strong> (<em>float</em>) – The y-coordinate of the center of the destination area.</p></li>
<li><p><strong>radious_dest</strong> (<em>float</em>) – The radious of the destination area.</p></li>
<li><p><strong>t_start</strong> (<em>float</em>) – The start time for the demand in seconds.</p></li>
<li><p><strong>t_end</strong> (<em>float</em>) – The end time for the demand in seconds.</p></li>
<li><p><strong>flow</strong> (<em>float</em><em>, </em><em>optional</em>) – The flow rate from the origin to the destination in vehicles per second.</p></li>
<li><p><strong>volume</strong> (<em>float</em><em>, </em><em>optional</em>) – The demand volume from the origin to the destination. If volume is specified, the flow is ignored.</p></li>
<li><p><strong>attribute</strong> (<em>any</em><em>, </em><em>optinonal</em>) – Additional (meta) attributes defined by users.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.World.adddemand_area2area2">
<span class="sig-name descname"><span class="pre">adddemand_area2area2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x_orig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_orig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radious_orig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_dest</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_dest</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radious_dest</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flow</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">volume</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">direct_call</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#World.adddemand_area2area2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.World.adddemand_area2area2" title="Link to this definition">¶</a></dt>
<dd><p>Generate vehicles by specifying time-dependent origin-destination demand by specifying circular areas. This is new version of <cite>adddemand_area2area</cite>, more efficient, more smooth, and more accurate. However, it introduces some randomness.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x_orig</strong> (<em>float</em>) – The x-coordinate of the center of the origin area.</p></li>
<li><p><strong>y_orig</strong> (<em>float</em>) – The y-coordinate of the center of the origin area.</p></li>
<li><p><strong>radious_orig</strong> (<em>float</em>) – The radious of the origin area. Note that too large radious may generate too sparse demand that is rounded to zero.</p></li>
<li><p><strong>x_dest</strong> (<em>float</em>) – The x-coordinate of the center of the destination area.</p></li>
<li><p><strong>y_dest</strong> (<em>float</em>) – The y-coordinate of the center of the destination area.</p></li>
<li><p><strong>radious_dest</strong> (<em>float</em>) – The radious of the destination area.</p></li>
<li><p><strong>t_start</strong> (<em>float</em>) – The start time for the demand in seconds.</p></li>
<li><p><strong>t_end</strong> (<em>float</em>) – The end time for the demand in seconds.</p></li>
<li><p><strong>flow</strong> (<em>float</em><em>, </em><em>optional</em>) – The flow rate from the origin to the destination in vehicles per second.</p></li>
<li><p><strong>volume</strong> (<em>float</em><em>, </em><em>optional</em>) – The demand volume from the origin to the destination. If volume is specified, the flow is ignored.</p></li>
<li><p><strong>attribute</strong> (<em>any</em><em>, </em><em>optinonal</em>) – Additional (meta) attributes defined by users.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.World.adddemand_nodes2nodes">
<span class="sig-name descname"><span class="pre">adddemand_nodes2nodes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">origs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dests</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flow</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">volume</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">direct_call</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#World.adddemand_nodes2nodes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.World.adddemand_nodes2nodes" title="Link to this definition">¶</a></dt>
<dd><p>Generate vehicles by specifying time-dependent origin-destination demand by specifying origin area (i.e., list of nodes) and destination one. <cite>adddemand_nodes2nodes()</cite> is not recommended as it may truncate demand. Consider to use new <a href="#id5"><span class="problematic" id="id6">`</span></a>adddemand_nodes2nodes2() which is more accurate, smooth, and fast.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>origs</strong> (<em>list</em>) – The list of origin nodes. The items can be Node objects or names of Nodes.</p></li>
<li><p><strong>dests</strong> (<em>list</em>) – The list of destination nodes. The items can be Node objects or names of Nodes.</p></li>
<li><p><strong>t_start</strong> (<em>float</em>) – The start time for the demand in seconds.</p></li>
<li><p><strong>t_end</strong> (<em>float</em>) – The end time for the demand in seconds.</p></li>
<li><p><strong>flow</strong> (<em>float</em><em>, </em><em>optional</em>) – The flow rate from the origin to the destination in vehicles per second.</p></li>
<li><p><strong>volume</strong> (<em>float</em><em>, </em><em>optional</em>) – The demand volume from the origin to the destination. If volume is specified, the flow is ignored.</p></li>
<li><p><strong>attribute</strong> (<em>any</em><em>, </em><em>optinonal</em>) – Additional (meta) attributes defined by users.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.World.adddemand_nodes2nodes2">
<span class="sig-name descname"><span class="pre">adddemand_nodes2nodes2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">origs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dests</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flow</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">volume</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">direct_call</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#World.adddemand_nodes2nodes2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.World.adddemand_nodes2nodes2" title="Link to this definition">¶</a></dt>
<dd><p>Generate vehicles by specifying time-dependent origin-destination demand by specifying origin area (i.e., list of nodes) and destination one. This is new version of <cite>adddemand_nodes2nodes</cite>, more efficient, more smooth, and more accurate. However, it introduces some randomness.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>origs</strong> (<em>list</em>) – The list of origin nodes. The items can be Node objects or names of Nodes.</p></li>
<li><p><strong>dests</strong> (<em>list</em>) – The list of destination nodes. The items can be Node objects or names of Nodes.</p></li>
<li><p><strong>t_start</strong> (<em>float</em>) – The start time for the demand in seconds.</p></li>
<li><p><strong>t_end</strong> (<em>float</em>) – The end time for the demand in seconds.</p></li>
<li><p><strong>flow</strong> (<em>float</em><em>, </em><em>optional</em>) – The flow rate from the origin to the destination in vehicles per second.</p></li>
<li><p><strong>volume</strong> (<em>float</em><em>, </em><em>optional</em>) – The demand volume from the origin to the destination. If volume is specified, the flow is ignored.</p></li>
<li><p><strong>attribute</strong> (<em>any</em><em>, </em><em>optinonal</em>) – Additional (meta) attributes defined by users.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.World.adddemand_point2point">
<span class="sig-name descname"><span class="pre">adddemand_point2point</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x_orig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_orig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_dest</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_dest</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flow</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">volume</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">direct_call</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#World.adddemand_point2point"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.World.adddemand_point2point" title="Link to this definition">¶</a></dt>
<dd><p>Generate vehicles by specifying time-dependent origin-destination demand using coordinates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x_orig</strong> (<em>float</em>) – The x-coordinate of the origin.</p></li>
<li><p><strong>y_orig</strong> (<em>float</em>) – The y-coordinate of the origin.</p></li>
<li><p><strong>x_dest</strong> (<em>float</em>) – The x-coordinate of the destination.</p></li>
<li><p><strong>y_dest</strong> (<em>float</em>) – The y-coordinate of the destination.</p></li>
<li><p><strong>t_start</strong> (<em>float</em>) – The start time for the demand in seconds.</p></li>
<li><p><strong>t_end</strong> (<em>float</em>) – The end time for the demand in seconds.</p></li>
<li><p><strong>flow</strong> (<em>float</em><em>, </em><em>optional</em>) – The flow rate from the origin to the destination in vehicles per second.</p></li>
<li><p><strong>volume</strong> (<em>float</em><em>, </em><em>optional</em>) – The demand volume from the origin to the destination. If volume is specified, the flow is ignored.</p></li>
<li><p><strong>attribute</strong> (<em>any</em><em>, </em><em>optinonal</em>) – Additional (meta) attributes defined by users.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.World.change_print_mode">
<span class="sig-name descname"><span class="pre">change_print_mode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">print_mode</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#World.change_print_mode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.World.change_print_mode" title="Link to this definition">¶</a></dt>
<dd><p>Change the print mode.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>print_mode</strong> (<em>bool</em>) – The print mode. If True, the print function is enabled. If False, the print function is disabled.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.World.check_simulation_ongoing">
<span class="sig-name descname"><span class="pre">check_simulation_ongoing</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#World.check_simulation_ongoing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.World.check_simulation_ongoing" title="Link to this definition">¶</a></dt>
<dd><p>Check whether the simulation is has not reached its final time.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Returns 1 if the simulation is ongoing and has not reached its final time.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.World.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#World.copy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.World.copy" title="Link to this definition">¶</a></dt>
<dd><p>Copy the World object.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The copied World object.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>World object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.World.defRoute">
<span class="sig-name descname"><span class="pre">defRoute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#World.defRoute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.World.defRoute" title="Link to this definition">¶</a></dt>
<dd><p>Define Route object for this World.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>links</strong> (<em>list</em>) – List of links (Link object or str)</p></li>
<li><p><strong>name</strong> (<em>str</em>) – Name of the route.</p></li>
<li><p><strong>trust_input</strong> (<em>bool</em>) – True if you trust the <cite>links</cite> in order to reduce the computation cost by omitting verification.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.World.exec_simulation">
<span class="sig-name descname"><span class="pre">exec_simulation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">until_t</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">duration_t</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">duration_t2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#World.exec_simulation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.World.exec_simulation" title="Link to this definition">¶</a></dt>
<dd><p>Execute the main loop of the simulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>until_t</strong> (<em>float</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – The time until the simulation is to be executed in seconds.
If all of <cite>until_t</cite> and <cite>duration_t</cite> and <cite>duration_t2</cite> are None, the simulation is executed until the end. Default is None.</p></li>
<li><p><strong>duration_t</strong> (<em>float</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – The duration for which the simulation is to be executed in seconds. Simulation runs <cite>duration_t+1</cite> seconds for a technical reason. Old setting, not recommended.
If all of <cite>until_t</cite> and <cite>duration_t</cite> and <cite>duration_t2</cite> are None, the simulation is executed until the end. Default is None. Recommended.</p></li>
<li><p><strong>duration_t2</strong> (<em>float</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – The duration for which the simulation is to be executed in seconds. Simulation runs <cite>duration_t2</cite> seconds.
If all of <cite>until_t</cite> and <cite>duration_t</cite> and <cite>duration_t2</cite> are None, the simulation is executed until the end. Default is None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Returns 1 if the simulation is finished, 0 otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The function executes the main simulation loop that update links, nodes, and vehicles for each time step.
It also performs route search and updates the route preference for vehicles at specified intervals.
The simulation is executed until the end time is reached or until the maximum simulation time is exceeded.
The nodes, links, and vehicles must be defined before calling this function.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.World.finalize_scenario">
<span class="sig-name descname"><span class="pre">finalize_scenario</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#World.finalize_scenario"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.World.finalize_scenario" title="Link to this definition">¶</a></dt>
<dd><p>Finalizes the settings and preparations for the simulation scenario execution.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>tmax</strong> (<em>float</em><em>, </em><em>optional</em>) – The maximum simulation time. If not provided, it will be determined based on the departure times of the vehicles.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This function automatically called by <cite>exec_simulation()</cite> if it has not been called manually.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.World.generate_Links_from_csv">
<span class="sig-name descname"><span class="pre">generate_Links_from_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#World.generate_Links_from_csv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.World.generate_Links_from_csv" title="Link to this definition">¶</a></dt>
<dd><p>Generate links in the network from a CSV file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>fname</strong> (<em>str</em>) – The file name of the CSV file containing link data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.World.generate_Nodes_from_csv">
<span class="sig-name descname"><span class="pre">generate_Nodes_from_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#World.generate_Nodes_from_csv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.World.generate_Nodes_from_csv" title="Link to this definition">¶</a></dt>
<dd><p>Generate nodes in the network from a CSV file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>fname</strong> (<em>str</em>) – The file name of the CSV file containing node data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.World.generate_demand_from_csv">
<span class="sig-name descname"><span class="pre">generate_demand_from_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#World.generate_demand_from_csv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.World.generate_demand_from_csv" title="Link to this definition">¶</a></dt>
<dd><p>Generate demand in the network from a CSV file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>fname</strong> (<em>str</em>) – The file name of the CSV file containing demand data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.World.get_link">
<span class="sig-name descname"><span class="pre">get_link</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">link</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#World.get_link"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.World.get_link" title="Link to this definition">¶</a></dt>
<dd><p>Get a Link instance by name or object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>link</strong> (<em>str</em><em> or </em><em>Link object</em>) – The name of the link or the Link object itself.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The found Link object.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Link object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.World.get_nearest_node">
<span class="sig-name descname"><span class="pre">get_nearest_node</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#World.get_nearest_node"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.World.get_nearest_node" title="Link to this definition">¶</a></dt>
<dd><p>Get the nearest node to the given coordinates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>float</em>) – The x-coordinate.</p></li>
<li><p><strong>y</strong> (<em>float</em>) – The y-coordinate.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The nearest Node object.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.World.get_node">
<span class="sig-name descname"><span class="pre">get_node</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#World.get_node"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.World.get_node" title="Link to this definition">¶</a></dt>
<dd><p>Get a Node instance by name or object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>node</strong> (<em>str</em><em> or </em><em>Node object</em>) – The name of the node or the Node object itself.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The found Node object.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Node object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.World.get_nodes_in_area">
<span class="sig-name descname"><span class="pre">get_nodes_in_area</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#World.get_nodes_in_area"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.World.get_nodes_in_area" title="Link to this definition">¶</a></dt>
<dd><p>Get the nodes in the area defined by the center coordinates and radius.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>float</em>) – The x-coordinate of the center.</p></li>
<li><p><strong>y</strong> (<em>float</em>) – The y-coordinate of the center.</p></li>
<li><p><strong>r</strong> (<em>float</em>) – The radius of the area.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of Node objects in the area.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.World.load_scenario">
<span class="sig-name descname"><span class="pre">load_scenario</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">network</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">demand</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#World.load_scenario"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.World.load_scenario" title="Link to this definition">¶</a></dt>
<dd><p>Load a scenario from a file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fname</strong> (<em>str</em>) – The file name to load the scenario.</p></li>
<li><p><strong>network</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to load the network data, default is True.</p></li>
<li><p><strong>demand</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to load the demand data, default is True.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.World.load_scenario_from_csv">
<span class="sig-name descname"><span class="pre">load_scenario_from_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname_node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fname_link</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fname_demand</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#World.load_scenario_from_csv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.World.load_scenario_from_csv" title="Link to this definition">¶</a></dt>
<dd><p>Load a scenario from CSV files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fname_node</strong> (<em>str</em>) – The file name of the CSV file containing node data.</p></li>
<li><p><strong>fname_link</strong> (<em>str</em>) – The file name of the CSV file containing link data.</p></li>
<li><p><strong>fname_demand</strong> (<em>str</em>) – The file name of the CSV file containing demand data.</p></li>
<li><p><strong>tmax</strong> (<em>float</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – The maximum simulation time in seconds, default is None.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.World.on_time">
<span class="sig-name descname"><span class="pre">on_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#World.on_time"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.World.on_time" title="Link to this definition">¶</a></dt>
<dd><p>Check if the current time step is close to the specified time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>time</strong> (<em>float</em>) – The specified time in seconds.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Returns True if the current time step is close to the specified time, False otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.World.print_scenario_stats">
<span class="sig-name descname"><span class="pre">print_scenario_stats</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#World.print_scenario_stats"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.World.print_scenario_stats" title="Link to this definition">¶</a></dt>
<dd><p>Print scenario stats</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.World.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#World.save"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.World.save" title="Link to this definition">¶</a></dt>
<dd><p>Save the World object.</p>
<p class="rubric">Notes</p>
<p>The World object is saved as a pickle file.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.World.save_scenario">
<span class="sig-name descname"><span class="pre">save_scenario</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">network</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">demand</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#World.save_scenario"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.World.save_scenario" title="Link to this definition">¶</a></dt>
<dd><p>Save the scenario (Node, Link, demand) to a file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fname</strong> (<em>str</em>) – The file name to save the scenario.</p></li>
<li><p><strong>network</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to save the network (Node, Link) data, default is True.</p></li>
<li><p><strong>demand</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to save the demand (adddemand, etc.) data, default is True.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.World.show_network">
<span class="sig-name descname"><span class="pre">show_network</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">left_handed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(6,</span> <span class="pre">6)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">network_font_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#World.show_network"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.World.show_network" title="Link to this definition">¶</a></dt>
<dd><p>Visualizes the entire transportation network shape.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>W</strong> (<em>Network</em>) – The transportation network object.</p></li>
<li><p><strong>width</strong> (<em>int</em><em>, </em><em>optional</em>) – The width of the links in the visualization. Default is 1.</p></li>
<li><p><strong>left_handed</strong> (<em>int</em><em>, </em><em>optional</em>) – Determines the direction of the links. If 1, the links drawn with left-handed traffic rule. If 0, the links are right-handed. Default is 1.</p></li>
<li><p><strong>figsize</strong> (<em>tuple</em><em>, </em><em>optional</em>) – The size of the figure in inches. Default is (6, 6).</p></li>
<li><p><strong>network_font_size</strong> (<em>int</em><em>, </em><em>optional</em>) – The font size of the node and link labels. If 0, no labels will be displayed. Default is 10.</p></li>
<li><p><strong>node_size</strong> (<em>int</em><em>, </em><em>optional</em>) – The size of the nodes in the visualization. Default is 6.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uxsim.uxsim.World.simulation_terminated">
<span class="sig-name descname"><span class="pre">simulation_terminated</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/uxsim/uxsim.html#World.simulation_terminated"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#uxsim.uxsim.World.simulation_terminated" title="Link to this definition">¶</a></dt>
<dd><p>Postprocessing after simulation finished</p>
</dd></dl>

</dd></dl>

</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="uxsim.utils.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">uxsim.utils</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="uxsim.ResultGUIViewer.ResultGUIViewer.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">uxsim.ResultGUIViewer.ResultGUIViewer</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2023 Toru Seo
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">uxsim.uxsim</a><ul>
<li><a class="reference internal" href="#uxsim.uxsim.Link"><code class="docutils literal notranslate"><span class="pre">Link</span></code></a><ul>
<li><a class="reference internal" href="#uxsim.uxsim.Link.speed"><code class="docutils literal notranslate"><span class="pre">Link.speed</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.Link.density"><code class="docutils literal notranslate"><span class="pre">Link.density</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.Link.flow"><code class="docutils literal notranslate"><span class="pre">Link.flow</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.Link.num_vehicles"><code class="docutils literal notranslate"><span class="pre">Link.num_vehicles</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.Link.num_vehicles_queue"><code class="docutils literal notranslate"><span class="pre">Link.num_vehicles_queue</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.Link.free_flow_speed"><code class="docutils literal notranslate"><span class="pre">Link.free_flow_speed</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.Link.jam_density"><code class="docutils literal notranslate"><span class="pre">Link.jam_density</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.Link.capacity_out"><code class="docutils literal notranslate"><span class="pre">Link.capacity_out</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.Link.capacity_in"><code class="docutils literal notranslate"><span class="pre">Link.capacity_in</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.Link.merge_priority"><code class="docutils literal notranslate"><span class="pre">Link.merge_priority</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.Link.actual_travel_time"><code class="docutils literal notranslate"><span class="pre">Link.actual_travel_time()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.Link.arrival_count"><code class="docutils literal notranslate"><span class="pre">Link.arrival_count()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.Link.departure_count"><code class="docutils literal notranslate"><span class="pre">Link.departure_count()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.Link.in_out_flow_constraint"><code class="docutils literal notranslate"><span class="pre">Link.in_out_flow_constraint()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.Link.init_after_tmax_fix"><code class="docutils literal notranslate"><span class="pre">Link.init_after_tmax_fix()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.Link.instant_travel_time"><code class="docutils literal notranslate"><span class="pre">Link.instant_travel_time()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.Link.set_traveltime_instant"><code class="docutils literal notranslate"><span class="pre">Link.set_traveltime_instant()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.Link.update"><code class="docutils literal notranslate"><span class="pre">Link.update()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#uxsim.uxsim.Node"><code class="docutils literal notranslate"><span class="pre">Node</span></code></a><ul>
<li><a class="reference internal" href="#uxsim.uxsim.Node.signal_phase"><code class="docutils literal notranslate"><span class="pre">Node.signal_phase</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.Node.signal_t"><code class="docutils literal notranslate"><span class="pre">Node.signal_t</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.Node.flow_capacity_update"><code class="docutils literal notranslate"><span class="pre">Node.flow_capacity_update()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.Node.generate"><code class="docutils literal notranslate"><span class="pre">Node.generate()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.Node.signal_control"><code class="docutils literal notranslate"><span class="pre">Node.signal_control()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.Node.transfer"><code class="docutils literal notranslate"><span class="pre">Node.transfer()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.Node.update"><code class="docutils literal notranslate"><span class="pre">Node.update()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#uxsim.uxsim.Route"><code class="docutils literal notranslate"><span class="pre">Route</span></code></a><ul>
<li><a class="reference internal" href="#uxsim.uxsim.Route.actual_travel_time"><code class="docutils literal notranslate"><span class="pre">Route.actual_travel_time()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#uxsim.uxsim.RouteChoice"><code class="docutils literal notranslate"><span class="pre">RouteChoice</span></code></a><ul>
<li><a class="reference internal" href="#uxsim.uxsim.RouteChoice.homogeneous_DUO_update"><code class="docutils literal notranslate"><span class="pre">RouteChoice.homogeneous_DUO_update()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.RouteChoice.route_search_all"><code class="docutils literal notranslate"><span class="pre">RouteChoice.route_search_all()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#uxsim.uxsim.Vehicle"><code class="docutils literal notranslate"><span class="pre">Vehicle</span></code></a><ul>
<li><a class="reference internal" href="#uxsim.uxsim.Vehicle.add_dest"><code class="docutils literal notranslate"><span class="pre">Vehicle.add_dest()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.Vehicle.add_dests"><code class="docutils literal notranslate"><span class="pre">Vehicle.add_dests()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.Vehicle.carfollow"><code class="docutils literal notranslate"><span class="pre">Vehicle.carfollow()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.Vehicle.end_trip"><code class="docutils literal notranslate"><span class="pre">Vehicle.end_trip()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.Vehicle.enforce_route"><code class="docutils literal notranslate"><span class="pre">Vehicle.enforce_route()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.Vehicle.get_xy_coords"><code class="docutils literal notranslate"><span class="pre">Vehicle.get_xy_coords()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.Vehicle.record_log"><code class="docutils literal notranslate"><span class="pre">Vehicle.record_log()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.Vehicle.route_next_link_choice"><code class="docutils literal notranslate"><span class="pre">Vehicle.route_next_link_choice()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.Vehicle.route_pref_update"><code class="docutils literal notranslate"><span class="pre">Vehicle.route_pref_update()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.Vehicle.set_links_avoid"><code class="docutils literal notranslate"><span class="pre">Vehicle.set_links_avoid()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.Vehicle.set_links_prefer"><code class="docutils literal notranslate"><span class="pre">Vehicle.set_links_prefer()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.Vehicle.traveled_route"><code class="docutils literal notranslate"><span class="pre">Vehicle.traveled_route()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.Vehicle.update"><code class="docutils literal notranslate"><span class="pre">Vehicle.update()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#uxsim.uxsim.World"><code class="docutils literal notranslate"><span class="pre">World</span></code></a><ul>
<li><a class="reference internal" href="#uxsim.uxsim.World.addLink"><code class="docutils literal notranslate"><span class="pre">World.addLink()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.World.addNode"><code class="docutils literal notranslate"><span class="pre">World.addNode()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.World.addVehicle"><code class="docutils literal notranslate"><span class="pre">World.addVehicle()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.World.adddemand"><code class="docutils literal notranslate"><span class="pre">World.adddemand()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.World.adddemand_area2area"><code class="docutils literal notranslate"><span class="pre">World.adddemand_area2area()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.World.adddemand_area2area2"><code class="docutils literal notranslate"><span class="pre">World.adddemand_area2area2()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.World.adddemand_nodes2nodes"><code class="docutils literal notranslate"><span class="pre">World.adddemand_nodes2nodes()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.World.adddemand_nodes2nodes2"><code class="docutils literal notranslate"><span class="pre">World.adddemand_nodes2nodes2()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.World.adddemand_point2point"><code class="docutils literal notranslate"><span class="pre">World.adddemand_point2point()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.World.change_print_mode"><code class="docutils literal notranslate"><span class="pre">World.change_print_mode()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.World.check_simulation_ongoing"><code class="docutils literal notranslate"><span class="pre">World.check_simulation_ongoing()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.World.copy"><code class="docutils literal notranslate"><span class="pre">World.copy()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.World.defRoute"><code class="docutils literal notranslate"><span class="pre">World.defRoute()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.World.exec_simulation"><code class="docutils literal notranslate"><span class="pre">World.exec_simulation()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.World.finalize_scenario"><code class="docutils literal notranslate"><span class="pre">World.finalize_scenario()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.World.generate_Links_from_csv"><code class="docutils literal notranslate"><span class="pre">World.generate_Links_from_csv()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.World.generate_Nodes_from_csv"><code class="docutils literal notranslate"><span class="pre">World.generate_Nodes_from_csv()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.World.generate_demand_from_csv"><code class="docutils literal notranslate"><span class="pre">World.generate_demand_from_csv()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.World.get_link"><code class="docutils literal notranslate"><span class="pre">World.get_link()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.World.get_nearest_node"><code class="docutils literal notranslate"><span class="pre">World.get_nearest_node()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.World.get_node"><code class="docutils literal notranslate"><span class="pre">World.get_node()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.World.get_nodes_in_area"><code class="docutils literal notranslate"><span class="pre">World.get_nodes_in_area()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.World.load_scenario"><code class="docutils literal notranslate"><span class="pre">World.load_scenario()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.World.load_scenario_from_csv"><code class="docutils literal notranslate"><span class="pre">World.load_scenario_from_csv()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.World.on_time"><code class="docutils literal notranslate"><span class="pre">World.on_time()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.World.print_scenario_stats"><code class="docutils literal notranslate"><span class="pre">World.print_scenario_stats()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.World.save"><code class="docutils literal notranslate"><span class="pre">World.save()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.World.save_scenario"><code class="docutils literal notranslate"><span class="pre">World.save_scenario()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.World.show_network"><code class="docutils literal notranslate"><span class="pre">World.show_network()</span></code></a></li>
<li><a class="reference internal" href="#uxsim.uxsim.World.simulation_terminated"><code class="docutils literal notranslate"><span class="pre">World.simulation_terminated()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=5cb08e4e"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=46bd48cc"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    </body>
</html>